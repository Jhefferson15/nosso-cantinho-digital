<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Nossos Planos - Nosso Cantinho</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body class="app-page">

    <header class="app-header">
        <h1>Nossos Planos</h1>
        <p>Conquistando o futuro, um sonho de cada vez.</p>
    </header>

    <main class="main-content-page">
        <div class="card" id="plans-container">
            <!-- NOVO: Menu de Configurações (Importar/Exportar) -->
            <div class="settings-menu-container">
                <button id="settings-btn" title="Configurações"><i class="fas fa-cog"></i></button>
                <div id="settings-dropdown" class="settings-dropdown">
                    <button id="dropdown-import-btn"><i class="fas fa-upload"></i> Importar</button>
                    <button id="dropdown-export-btn"><i class="fas fa-download"></i> Exportar</button>
                </div>
            </div>
            <input type="file" id="import-file-input" accept=".json" style="display: none;">

            <!-- Barra de Progresso -->
            <div class="progress-section">
                <h3>Progresso Geral</h3>
                <div class="progress-bar-container">
                    <div class="progress-bar-fill" id="plans-progress-bar"></div>
                </div>
                <span id="plans-progress-text">0 / 0 Concluídos</span>
            </div>

            <!-- Formulário para Adicionar Novo Plano -->
            <form id="add-plan-form" class="add-plan-form">
                <div class="form-inputs">
                    <input type="text" id="new-plan-text" placeholder="Qual o nosso próximo sonho?" required>
                    <input type="date" id="new-plan-date" title="Data Alvo">
                </div>
                <button type="submit"><i class="fas fa-plus"></i> Adicionar</button>
            </form>

            <!-- Lista de Planos (será preenchida pelo JavaScript) -->
            <ul id="plans-list" class="checklist-enhanced">
                <!-- Os planos aparecerão aqui -->
            </ul>
        </div>
    </main>

    <!-- NOVO: Modal para Sub-tarefas -->
    <div id="subtask-modal" class="modal-overlay">
        <div class="modal-content">
            <h2 id="modal-title">Etapas do Plano</h2>
            <form id="modal-add-subtask-form" class="modal-add-form">
                <input type="text" id="new-subtask-text" placeholder="Nova etapa..." required>
                <button type="submit"><i class="fas fa-plus"></i></button>
            </form>
            <ul id="modal-subtask-list" class="checklist-enhanced">
                <!-- Sub-tarefas aparecerão aqui -->
            </ul>
            <button id="modal-close-btn" class="modal-close-button">Fechar</button>
        </div>
    </div>
    
    <!-- Barra de Navegação do App -->
    <nav class="bottom-nav">
        <a href="momentos.html" class="nav-link">
            <i class="fas fa-images"></i>
            <span>Momentos</span>
        </a>
        <a href="galeria.html" class="nav-link">
            <i class="fas fa-photo-film"></i>
            <span>Galeria</span>
        </a>
        <a href="journal.html" class="nav-link">
            <i class="fas fa-book-open"></i>
            <span>Journal</span>
        </a>
        <a href="plans.html" class="nav-link active">
            <i class="fas fa-flag-checkered"></i>
            <span>Planos</span>
        </a>
        <a href="audio.html" class="nav-link">
            <i class="fas fa-microphone-alt"></i>
            <span>Vozes</span>
        </a>
    </nav>

    <script src="script.js"></script>
</body>
</html>